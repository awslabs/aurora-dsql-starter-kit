
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Amazon Aurora DSQL, a serverless distributed SQL database">
      
      
      
        <link rel="canonical" href="https://awslabs.github.io/aurora-dsql-starter-kit/authentication-and-authorization.html">
      
      
        <link rel="prev" href="connectors-overview.html">
      
      
        <link rel="next" href="generate-authentication-token.html">
      
      
        
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Auth & Access Overview - Aurora DSQL Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#authentication-and-authorization-for-amazon-aurora-dsql" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Aurora DSQL Documentation" class="md-header__button md-logo" aria-label="Aurora DSQL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Aurora DSQL Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Auth & Access Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws/aurora-dsql-starter-kit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="index.html" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="api-reference.html" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="troubleshooting.html" class="md-tabs__link">
          
  
  
  Troubleshooting

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Aurora DSQL Documentation" class="md-nav__button md-logo" aria-label="Aurora DSQL Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Aurora DSQL Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws/aurora-dsql-starter-kit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="what-is-amazon-aurora-dsql.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What is Amazon Aurora DSQL?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guides/getting-started/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Managing Aurora DSQL Clusters
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Managing Aurora DSQL Clusters
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="managing-clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Managing Clusters Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="single-region-clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Single-Region Clusters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="multi-region-clusters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Region Clusters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Programming with DSQL
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Programming with DSQL
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="programming-with-dsql.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Programming with DSQL Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="connectors-overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connectors Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" checked>
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Auth & Access
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Auth & Access
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Auth & Access Overview
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="authentication-and-authorization.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Auth & Access Overview
  

    
  </span>
  
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-your-cluster-using-iam" class="md-nav__link">
    <span class="md-ellipsis">
      
        Managing Your Cluster Using IAM
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Managing Your Cluster Using IAM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authentication
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authorization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-your-cluster-using-iam" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connecting to Your Cluster Using IAM
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connecting to Your Cluster Using IAM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-authentication_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authentication
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-authorization_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authorization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IAM Authorization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admin-role-connection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Admin Role Connection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-database-role-connection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Database Role Connection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postgresql-database-roles-and-iam-roles" class="md-nav__link">
    <span class="md-ellipsis">
      
        PostgreSQL Database Roles and IAM Roles
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PostgreSQL Database Roles and IAM Roles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-role-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Role Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authorization-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authorization Process
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-iam-policy-actions-with-aurora-dsql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using IAM Policy Actions with Aurora DSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using IAM Policy Actions with Aurora DSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-iam-policy-actions-to-connect-to-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using IAM Policy Actions to Connect to Clusters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using IAM Policy Actions to Connect to Clusters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admin-role-connection_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Admin Role Connection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-database-role-connection_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Database Role Connection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-iam-policy-actions-to-manage-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using IAM Policy Actions to Manage Clusters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using IAM Policy Actions to Manage Clusters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-available-iam-policy-actions-for-managing-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        All Available IAM Policy Actions for Managing Clusters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revoking-authorization-using-iam-and-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Revoking Authorization Using IAM and PostgreSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revoking Authorization Using IAM and PostgreSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revoking-admin-authorization-to-connect-to-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Revoking Admin Authorization to Connect to Clusters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revoking-custom-role-authorization-to-connect-to-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Revoking Custom Role Authorization to Connect to Clusters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-notes-on-permission-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Important Notes on Permission Management
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="generate-authentication-token.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generate Authentication Token
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="database-roles-iam-authentication.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Roles and IAM Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Query Editors
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Query Editors
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="generative-ai/query-editor.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aurora DSQL Query Editor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="generative-ai/jupyterlab.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using JupyterLab with Aurora DSQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Generative AI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Generative AI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="generative-ai/mcp-server.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AWS Labs Aurora DSQL MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="backup-and-restore.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup and Restore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Considerations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Considerations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="considerations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Considerations Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Quotas and Limits
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Quotas and Limits
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quotas-and-limits.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quotas and Limits Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-reference.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Reference Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Troubleshooting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="troubleshooting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-your-cluster-using-iam" class="md-nav__link">
    <span class="md-ellipsis">
      
        Managing Your Cluster Using IAM
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Managing Your Cluster Using IAM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authentication
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-authorization" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authorization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-your-cluster-using-iam" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connecting to Your Cluster Using IAM
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connecting to Your Cluster Using IAM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-authentication_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authentication
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iam-authorization_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Authorization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IAM Authorization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admin-role-connection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Admin Role Connection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-database-role-connection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Database Role Connection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postgresql-database-roles-and-iam-roles" class="md-nav__link">
    <span class="md-ellipsis">
      
        PostgreSQL Database Roles and IAM Roles
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PostgreSQL Database Roles and IAM Roles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-role-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Role Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Process
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authorization-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authorization Process
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-iam-policy-actions-with-aurora-dsql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using IAM Policy Actions with Aurora DSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using IAM Policy Actions with Aurora DSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-iam-policy-actions-to-connect-to-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using IAM Policy Actions to Connect to Clusters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using IAM Policy Actions to Connect to Clusters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admin-role-connection_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Admin Role Connection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-database-role-connection_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Database Role Connection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-iam-policy-actions-to-manage-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using IAM Policy Actions to Manage Clusters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using IAM Policy Actions to Manage Clusters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-available-iam-policy-actions-for-managing-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        All Available IAM Policy Actions for Managing Clusters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#revoking-authorization-using-iam-and-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Revoking Authorization Using IAM and PostgreSQL
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revoking Authorization Using IAM and PostgreSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#revoking-admin-authorization-to-connect-to-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Revoking Admin Authorization to Connect to Clusters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revoking-custom-role-authorization-to-connect-to-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Revoking Custom Role Authorization to Connect to Clusters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-notes-on-permission-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Important Notes on Permission Management
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<script>
function copyPageContent(event) {
  const btn = event.target;
  const content = document.querySelector('.md-content__inner');
  if (!content) {
    alert('Could not find page content');
    return;
  }

  const text = content.innerText || content.textContent;

  // Try modern clipboard API first
  if (navigator.clipboard && navigator.clipboard.writeText) {
    navigator.clipboard.writeText(text).then(() => {
      const originalText = btn.innerHTML;
      btn.innerHTML = 'âœ“ Copied!';
      btn.style.background = '#4caf50';
      setTimeout(() => {
        btn.innerHTML = originalText;
        btn.style.background = '#1976d2';
      }, 2000);
    }).catch(err => {
      // Fallback to old method
      fallbackCopy(text, btn);
    });
  } else {
    // Use fallback for older browsers
    fallbackCopy(text, btn);
  }
}

function fallbackCopy(text, btn) {
  const textArea = document.createElement('textarea');
  textArea.value = text;
  textArea.style.position = 'fixed';
  textArea.style.left = '-999999px';
  textArea.style.top = '0';
  document.body.appendChild(textArea);
  textArea.focus();
  textArea.select();

  try {
    const successful = document.execCommand('copy');
    if (successful) {
      const originalText = btn.innerHTML;
      btn.innerHTML = 'âœ“ Copied!';
      btn.style.background = '#4caf50';
      setTimeout(() => {
        btn.innerHTML = originalText;
        btn.style.background = '#1976d2';
      }, 2000);
    } else {
      alert('Failed to copy content. Please copy manually.');
    }
  } catch (err) {
    alert('Failed to copy content. Please copy manually.');
  } finally {
    document.body.removeChild(textArea);
  }
}
</script>
<div style="text-align: right; margin-bottom: 20px;">
  <button onclick="copyPageContent(event)" style="background: #1976d2; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
    ðŸ“‹ Copy Page
  </button>
</div>

<h1 id="authentication-and-authorization-for-amazon-aurora-dsql">Authentication and Authorization for Amazon Aurora DSQL<a class="headerlink" href="#authentication-and-authorization-for-amazon-aurora-dsql" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Aurora DSQL uses IAM roles and policies for cluster authorization. You associate IAM roles with <a href="https://www.postgresql.org/docs/current/user-manag.html">PostgreSQL database roles</a> for database authorization. This approach combines <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/intro-iam-features.html">benefits from IAM</a> with <a href="https://www.postgresql.org/docs/current/user-manag.html">PostgreSQL privileges</a>. Aurora DSQL uses these features to provide a comprehensive authorization and access policy for your cluster, database, and data.</p>
<h2 id="managing-your-cluster-using-iam">Managing Your Cluster Using IAM<a class="headerlink" href="#managing-your-cluster-using-iam" title="Permanent link">&para;</a></h2>
<p>To manage your cluster, use IAM for authentication and authorization:</p>
<h3 id="iam-authentication">IAM Authentication<a class="headerlink" href="#iam-authentication" title="Permanent link">&para;</a></h3>
<p>To authenticate your IAM identity when you manage Aurora DSQL clusters, you must use IAM. You can provide authentication using:
- <a href="https://docs.aws.amazon.com/signin/latest/userguide/how-to-sign-in.html">AWS Management Console</a>
- <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html">AWS CLI</a>
- <a href="https://docs.aws.amazon.com/sdkref/latest/guide/access.html">AWS SDK</a></p>
<h3 id="iam-authorization">IAM Authorization<a class="headerlink" href="#iam-authorization" title="Permanent link">&para;</a></h3>
<p>To manage Aurora DSQL clusters, grant authorization using IAM actions for Aurora DSQL. For example, to describe a cluster, make sure that your IAM identity has permissions for the IAM action <code>dsql:GetCluster</code>, as in the following sample policy action:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dsql:GetCluster&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arn:aws:dsql:us-east-1:123456789012:cluster/my-cluster&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="connecting-to-your-cluster-using-iam">Connecting to Your Cluster Using IAM<a class="headerlink" href="#connecting-to-your-cluster-using-iam" title="Permanent link">&para;</a></h2>
<p>To connect to your cluster, use IAM for authentication and authorization:</p>
<h3 id="iam-authentication_1">IAM Authentication<a class="headerlink" href="#iam-authentication_1" title="Permanent link">&para;</a></h3>
<p>Generate a temporary authentication token using an IAM identity with authorization to connect to your cluster. To learn more, see <a href="https://docs.aws.amazon.com/aurora-dsql/latest/userguide/SECTION_authentication-token.html">Generating an authentication token in Amazon Aurora DSQL</a>.</p>
<h3 id="iam-authorization_1">IAM Authorization<a class="headerlink" href="#iam-authorization_1" title="Permanent link">&para;</a></h3>
<p>Grant the following IAM policy actions to the IAM identity you're using to establish the connection to your cluster's endpoint:</p>
<h4 id="admin-role-connection">Admin Role Connection<a class="headerlink" href="#admin-role-connection" title="Permanent link">&para;</a></h4>
<p>Use <code>dsql:DbConnectAdmin</code> if you're using the <code>admin</code> role. Aurora DSQL creates and manages this role for you. The following sample IAM policy action permits <code>admin</code> to connect to <code>my-cluster</code>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dsql:DbConnectAdmin&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arn:aws:dsql:us-east-1:123456789012:cluster/my-cluster&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="custom-database-role-connection">Custom Database Role Connection<a class="headerlink" href="#custom-database-role-connection" title="Permanent link">&para;</a></h4>
<p>Use <code>dsql:DbConnect</code> if you're using a custom database role. You create and manage this role by using SQL commands in your database. The following sample IAM policy action permits a custom database role to connect to <code>my-cluster</code> for up to one hour:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dsql:DbConnect&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arn:aws:dsql:us-east-1:123456789012:cluster/my-cluster&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Important</strong>: After you establish a connection, your role is authorized for up to one hour for the connection.</p>
<h2 id="postgresql-database-roles-and-iam-roles">PostgreSQL Database Roles and IAM Roles<a class="headerlink" href="#postgresql-database-roles-and-iam-roles" title="Permanent link">&para;</a></h2>
<h3 id="database-role-management">Database Role Management<a class="headerlink" href="#database-role-management" title="Permanent link">&para;</a></h3>
<p>PostgreSQL manages database access permissions using the concept of roles. A role can be thought of as either a database user, or a group of database users, depending on how the role is set up. You create PostgreSQL roles using SQL commands. To manage database-level authorization, grant PostgreSQL permissions to your PostgreSQL database roles.</p>
<p>Aurora DSQL supports two types of database roles:
- <strong>Admin role</strong>: Aurora DSQL automatically creates a predefined <code>admin</code> role for you in your Aurora DSQL cluster. You can't modify the <code>admin</code> role.
- <strong>Custom roles</strong>: When you connect to your database as <code>admin</code>, you can issue SQL to create new database-level roles to associate with your IAM roles.</p>
<p>To let IAM roles connect to your database, associate your custom database roles with your IAM roles.</p>
<h3 id="authentication-process">Authentication Process<a class="headerlink" href="#authentication-process" title="Permanent link">&para;</a></h3>
<p>Use the <code>admin</code> role to connect to your cluster. After you connect your database, use the command <code>AWS IAM GRANT</code> to associate a custom database role with the IAM identity authorized to connect to the cluster:</p>
<div class="highlight"><pre><span></span><code><span class="n">AWS</span><span class="w"> </span><span class="n">IAM</span><span class="w"> </span><span class="k">GRANT</span><span class="w"> </span><span class="n">custom</span><span class="o">-</span><span class="n">db</span><span class="o">-</span><span class="k">role</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;arn:aws:iam::account-id:role/iam-role-name&#39;</span><span class="p">;</span>
</code></pre></div>
<p>To learn more, see <a href="https://docs.aws.amazon.com/aurora-dsql/latest/userguide/using-database-and-iam-roles.html#using-database-and-iam-roles-custom-database-roles">Authorizing database roles to connect to your cluster</a>.</p>
<h3 id="authorization-process">Authorization Process<a class="headerlink" href="#authorization-process" title="Permanent link">&para;</a></h3>
<p>Use the <code>admin</code> role to connect to your cluster. Run SQL commands to set up custom database roles and grant permissions. To learn more, see:
- <a href="https://www.postgresql.org/docs/current/user-manag.html">PostgreSQL database roles</a>
- <a href="https://www.postgresql.org/docs/current/ddl-priv.html">PostgreSQL privileges</a></p>
<h2 id="using-iam-policy-actions-with-aurora-dsql">Using IAM Policy Actions with Aurora DSQL<a class="headerlink" href="#using-iam-policy-actions-with-aurora-dsql" title="Permanent link">&para;</a></h2>
<p>The IAM policy action you use depends on the role you use to connect to your cluster: either <code>admin</code> or a custom database role. The policy also depends on the IAM actions required for this role.</p>
<h3 id="using-iam-policy-actions-to-connect-to-clusters">Using IAM Policy Actions to Connect to Clusters<a class="headerlink" href="#using-iam-policy-actions-to-connect-to-clusters" title="Permanent link">&para;</a></h3>
<h4 id="admin-role-connection_1">Admin Role Connection<a class="headerlink" href="#admin-role-connection_1" title="Permanent link">&para;</a></h4>
<p>When you connect to your cluster with the default database role of <code>admin</code>, use an IAM identity with authorization to perform the following IAM policy action:</p>
<div class="highlight"><pre><span></span><code>&quot;dsql:DbConnectAdmin&quot;
</code></pre></div>
<h4 id="custom-database-role-connection_1">Custom Database Role Connection<a class="headerlink" href="#custom-database-role-connection_1" title="Permanent link">&para;</a></h4>
<p>When you connect to your cluster with a custom database role, first associate the IAM role with the database role. The IAM identity you use to connect to your cluster must have authorization to perform the following IAM policy action:</p>
<div class="highlight"><pre><span></span><code>&quot;dsql:DbConnect&quot;
</code></pre></div>
<p>To learn more about custom database roles, see <a href="https://docs.aws.amazon.com/aurora-dsql/latest/userguide/using-database-and-iam-roles.html">Using database roles and IAM authentication</a>.</p>
<h3 id="using-iam-policy-actions-to-manage-clusters">Using IAM Policy Actions to Manage Clusters<a class="headerlink" href="#using-iam-policy-actions-to-manage-clusters" title="Permanent link">&para;</a></h3>
<p>When managing your Aurora DSQL clusters, specify policy actions only for the actions that your role needs to perform. For example, if your role only needs to get cluster information, you might limit role permissions to only the <code>GetCluster</code> and <code>ListClusters</code> permissions, as in the following sample policy:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2012-10-17&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Statement&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;dsql:GetCluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:ListClusters&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arn:aws:dsql:us-east-1:123456789012:cluster/my-cluster&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="all-available-iam-policy-actions-for-managing-clusters">All Available IAM Policy Actions for Managing Clusters<a class="headerlink" href="#all-available-iam-policy-actions-for-managing-clusters" title="Permanent link">&para;</a></h4>
<p>The following example policy shows all available IAM policy actions for managing clusters:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;Version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2012-10-17&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;Statement&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;Effect&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;Action&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;dsql:CreateCluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:GetCluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:UpdateCluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:DeleteCluster&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:ListClusters&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:TagResource&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:ListTagsForResource&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;dsql:UntagResource&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;Resource&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="revoking-authorization-using-iam-and-postgresql">Revoking Authorization Using IAM and PostgreSQL<a class="headerlink" href="#revoking-authorization-using-iam-and-postgresql" title="Permanent link">&para;</a></h2>
<p>You can revoke permissions for your IAM roles to access your database-level roles:</p>
<h3 id="revoking-admin-authorization-to-connect-to-clusters">Revoking Admin Authorization to Connect to Clusters<a class="headerlink" href="#revoking-admin-authorization-to-connect-to-clusters" title="Permanent link">&para;</a></h3>
<p>To revoke authorization to connect to your cluster with the <code>admin</code> role:
1. Revoke the IAM identity's access to <code>dsql:DbConnectAdmin</code>
2. Either edit the IAM policy or detach the policy from the identity</p>
<p>After revoking connection authorization from the IAM identity, Aurora DSQL rejects all new connection attempts from that IAM identity. Any active connections that use the IAM identity might stay authorized for the duration of the connection. For more information on connection durations, see <a href="https://docs.aws.amazon.com/aurora-dsql/latest/userguide/CHAP_quotas.html">Quotas and limits</a>.</p>
<h3 id="revoking-custom-role-authorization-to-connect-to-clusters">Revoking Custom Role Authorization to Connect to Clusters<a class="headerlink" href="#revoking-custom-role-authorization-to-connect-to-clusters" title="Permanent link">&para;</a></h3>
<p>To revoke access to database roles other than <code>admin</code>:
1. Revoke the IAM identity's access to <code>dsql:DbConnect</code>
2. Either edit the IAM policy or detach the policy from the identity</p>
<p>You can also remove the association between the database role and IAM by using the command <code>AWS IAM REVOKE</code> in your database. To learn more about revoking access from database roles, see <a href="https://docs.aws.amazon.com/aurora-dsql/latest/userguide/using-database-and-iam-roles.html#using-database-and-iam-roles-revoke">Revoking database authorization from an IAM role</a>.</p>
<h3 id="important-notes-on-permission-management">Important Notes on Permission Management<a class="headerlink" href="#important-notes-on-permission-management" title="Permanent link">&para;</a></h3>
<ul>
<li>You can't manage permissions of the predefined <code>admin</code> database role</li>
<li>To learn how to manage permissions for custom database roles, see <a href="https://www.postgresql.org/docs/current/ddl-priv.html">PostgreSQL privileges</a></li>
<li>Modifications to privileges take effect on the next transaction after Aurora DSQL successfully commits the modification transaction</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["content.code.copy", "content.code.select", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "search.highlight", "content.code.copy"], "search": "assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>